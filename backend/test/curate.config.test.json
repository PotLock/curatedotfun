{
  "global": {
    "botId": "test_bot",
    "defaultStatus": "pending",
    "maxSubmissionsPerUser": 100,
    "blacklist": {
      "twitter": []
    }
  },
  "plugins": {
    "@curatedotfun/telegram": {
      "type": "distributor",
      "url": "https://unpkg.com/@curatedotfun/telegram@latest/dist/remoteEntry.js"
    },
    "@curatedotfun/notion": {
      "type": "distributor",
      "url": "https://unpkg.com/@curatedotfun/notion@latest/dist/remoteEntry.js"
    },
    "@curatedotfun/simple-transform": {
      "type": "transformer",
      "url": "https://unpkg.com/@curatedotfun/simple-transform@latest/dist/remoteEntry.js"
    },
    "@curatedotfun/object-transform": {
      "type": "transformer",
      "url": "https://unpkg.com/@curatedotfun/object-transform@latest/dist/remoteEntry.js"
    },
    "@curatedotfun/ai-transform": {
      "type": "transformer",
      "url": "https://unpkg.com/@curatedotfun/ai-transform@latest/dist/remoteEntry.js"
    }
  },
  "integrations": {
    "near": {
      "parentAccountId": "{NEAR_PARENT_ACCOUNT_ID}",
      "parentKeyPair": "{NEAR_PARENT_KEYPAIR}",
      "networkId": "{NEAR_NETWORK_ID}",
      "nodeUrl": "{NEAR_NODE_URL}",
      "walletUrl": "{NEAR_WALLET_URL}",
      "helperUrl": "{NEAR_HELPER_URL}",
      "explorerUrl": "{NEAR_EXPLORER_URL}"
    }
  },
  "feeds": [
    {
      "id": "test",
      "name": "Test Feed",
      "description": "Main feed for testing basic functionality",
      "moderation": {
        "approvers": {
          "twitter": ["test_curator", "test_admin"]
        }
      },
      "outputs": {
        "stream": {
          "enabled": true,
          "transform": [
            {
              "plugin": "@curatedotfun/object-transform",
              "config": {
                "mappings": {
                  "source": "https://x.com/{{username}}/status/{{tweetId}}",
                  "content": "{{content}}",
                  "author": "{{username}}",
                  "notes": "{{curator.notes}}"
                }
              }
            }
          ],
          "distribute": [
            {
              "transform": [
                {
                  "plugin": "@curatedotfun/simple-transform",
                  "config": {
                    "template": "üî• {{content}}\n\n{{#notes}}üìù {{.}}{{/notes}}\n\nüë§ {{author}}\n\nüîó {{source}}"
                  }
                }
              ],
              "plugin": "@curatedotfun/telegram",
              "config": {
                "botToken": "{TELEGRAM_BOT_TOKEN}",
                "channelId": "@test_curation"
              }
            },
            {
              "transform": [
                {
                  "plugin": "@curatedotfun/ai-transform",
                  "config": {
                    "prompt": "Create a structured summary of this content",
                    "apiKey": "{OPENROUTER_API_KEY}",
                    "schema": {
                      "title": {
                        "type": "string",
                        "description": "A catchy headline summarizing the content (max 80 chars)"
                      },
                      "summary": {
                        "type": "string",
                        "description": "A concise summary of the content and curator notes (max 280 chars)"
                      },
                      "keyPoints": {
                        "type": "string",
                        "description": "3-5 bullet points highlighting main ideas, one per line"
                      },
                      "category": {
                        "type": "string",
                        "description": "The inferred topic category (e.g., DeFi, NFTs, Layer2)"
                      },
                      "sentiment": {
                        "type": "string",
                        "description": "The overall sentiment (positive, neutral, or negative)"
                      }
                    },
                    "outputFormat": "json"
                  }
                },
                {
                  "plugin": "@curatedotfun/simple-transform",
                  "config": {
                    "template": "üì¢ {{title}}\n\n{{summary}}\n\nüéØ Key Points:\n{{keyPoints}}\n\nüè∑Ô∏è {{category}} ({{sentiment}})\n\nüîó {{source}}"
                  }
                }
              ],
              "plugin": "@curatedotfun/telegram",
              "config": {
                "botToken": "{TELEGRAM_BOT_TOKEN}",
                "channelId": "@test_curation"
              }
            }
          ]
        }
      }
    },
    {
      "id": "multi",
      "name": "Multi-Approver Test",
      "description": "Testing multiple approver scenarios",
      "moderation": {
        "approvers": {
          "twitter": ["curator1", "curator2", "curator3"]
        }
      },
      "outputs": {
        "stream": {
          "enabled": true,
          "transform": [
            {
              "plugin": "@curatedotfun/object-transform",
              "config": {
                "mappings": {
                  "source": "https://x.com/{{username}}/status/{{tweetId}}",
                  "text": "{{content}}",
                  "author": "{{firstName}} {{lastName}}",
                  "notes": "{{#curator.notes}}{{.}}{{/curator.notes}}"
                }
              }
            }
          ],
          "distribute": [
            {
              "plugin": "@curatedotfun/telegram",
              "config": {
                "botToken": "{TELEGRAM_BOT_TOKEN}",
                "channelId": "@test_curation"
              },
              "transform": [
                {
                  "plugin": "@curatedotfun/simple-transform",
                  "config": {
                    "template": "‚ú® Multi-Approved Content ‚ú®\n\n{{text}}\n\n{{#notes}}üí≠ {{.}}{{/notes}}\n\nüë• Approved by multiple curators\n\nüîó {{source}}"
                  }
                }
              ]
            }
          ]
        }
      }
    },
    {
      "id": "edge",
      "name": "Edge Cases",
      "description": "Testing edge cases and error scenarios",
      "moderation": {
        "approvers": {
          "twitter": ["edge_curator"]
        }
      },
      "outputs": {
        "stream": {
          "enabled": true,
          "transform": [
            {
              "plugin": "@curatedotfun/object-transform",
              "config": {
                "mappings": {
                  "source": "https://x.com/{{username}}/status/{{tweetId}}",
                  "text": "{{content}}",
                  "author": "{{firstName}} {{lastName}}",
                  "notes": "{{#curator.notes}}{{.}}{{/curator.notes}}"
                }
              }
            }
          ]
        },
        "recap": [
          {
            "id": "edge-recap-1",
            "enabled": true,
            "schedule": "* * * * *",
            "transform": [
              {
                "plugin": "@curatedotfun/object-transform",
                "config": {
                  "mappings": {
                    "source": "https://x.com/{{username}}/status/{{tweetId}}",
                    "content": "{{content}}",
                    "author": "{{username}}",
                    "notes": "{{curator.notes}}"
                  }
                }
              },
              {
                "plugin": "@curatedotfun/simple-transform",
                "config": {
                  "template": "üî• {{content}}\n\n{{#notes}}üìù {{.}}{{/notes}}\n\nüë§ {{author}}\n\nüîó {{source}}"
                }
              }
            ],
            "distribute": [
              {
                "plugin": "@curatedotfun/telegram",
                "config": {
                  "botToken": "{TELEGRAM_BOT_TOKEN}",
                  "channelId": "@test_curation"
                }
              }
            ]
          },
          {
            "id": "edge-recap-ai",
            "enabled": true,
            "schedule": "0 0 * * *",
            "transform": [
              {
                "plugin": "@curatedotfun/object-transform",
                "config": {
                  "mappings": {
                    "source": "https://x.com/{{username}}/status/{{tweetId}}",
                    "content": "{{content}}",
                    "author": "{{username}}",
                    "notes": "{{curator.notes}}"
                  }
                }
              },
              {
                "plugin": "@curatedotfun/ai-transform",
                "config": {
                  "prompt": "Create a structured summary of this content",
                  "apiKey": "{OPENROUTER_API_KEY}",
                  "schema": {
                    "title": {
                      "type": "string",
                      "description": "A catchy headline summarizing the content (max 80 chars)"
                    },
                    "summary": {
                      "type": "string",
                      "description": "A concise summary of the content and curator notes (max 280 chars)"
                    },
                    "keyPoints": {
                      "type": "string",
                      "description": "3-5 bullet points highlighting main ideas, one per line"
                    },
                    "category": {
                      "type": "string",
                      "description": "The inferred topic category (e.g., DeFi, NFTs, Layer2)"
                    },
                    "sentiment": {
                      "type": "string",
                      "description": "The overall sentiment (positive, neutral, or negative)"
                    }
                  },
                  "outputFormat": "json"
                }
              },
              {
                "plugin": "@curatedotfun/simple-transform",
                "config": {
                  "template": "üì¢ {{title}}\n\n{{summary}}\n\nüéØ Key Points:\n{{keyPoints}}\n\nüè∑Ô∏è {{category}} ({{sentiment}})\n\nüîó {{source}}"
                }
              }
            ],
            "distribute": [
              {
                "plugin": "@curatedotfun/telegram",
                "config": {
                  "botToken": "{TELEGRAM_BOT_TOKEN}",
                  "channelId": "@test_curation"
                }
              }
            ]
          }
        ]
      }
    }
  ]
}
